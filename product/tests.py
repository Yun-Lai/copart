import base64
import json
import asyncio
import websockets
import time
from selenium import webdriver
import random
from datetime import datetime

async def copart(param):
    nirvanalv = param.split('-')[1]
    param = param.split('-')[0]
    async with websockets.connect('wss://nirvanarn' + nirvanalv + '.copart.com/sv/ws') as websocket:
        param_1st = 'F=1&Connection-Type=JC&Y=10&V=Netscape&P=nws&W=81457-81457&X=February-12 2016&Z=Linux&S=ANONYMOUS&A=VB3&G=T&D=F&B=&R={}&1Date={}&'.format
        await websocket.send(param_1st(2, str(int(time.time() * 1000))))
        greeting = await websocket.recv()
        print("{}".format(greeting))

        param_2nd = 'F=5&R={}&E=1&N=/COPART{}/outbound,0,,F'.format
        await websocket.send(param_2nd(3, param))
        greeting = await websocket.recv()
        print("{}".format(greeting))

        keep_alive = 'F=3&R={}&'.format
        r = 4

        old = datetime.now()
        while True:
            greeting = await websocket.recv()
            try:
                decoded = base64.b64decode(json.loads(greeting)[0]['d'][1]['Data'])
                data = json.loads(decoded.decode())
                if 'ATTRIBUTE' in data:
                    print(','.join([param, data['LOTNO'], data['BID']]))

                    try:
                        print(data['BID'], data['LOTNO'])
                    except Exception as e:
                        print(e)

                if 'TEXT' in data:
                    break
            except:
                pass
            now = datetime.now()
            if (now - old).seconds > 28:
                await websocket.send(keep_alive(3, r))
                r += 1
                old = datetime.now()


def get_copart_auction(param):
    asyncio.get_event_loop().run_until_complete(copart(param))


def scrap_live_auctions():
    live_auctions = []
    try:
        options = webdriver.ChromeOptions()
        prefs = {"profile.managed_default_content_settings.images": 2}
        options.add_experimental_option("prefs", prefs)
        options.add_argument('--disable-extensions')
        options.add_argument('--headless')
        options.add_argument('--disable-gpu')
        options.add_argument('--no-sandbox')

        while True:
            try:
                driver = webdriver.Chrome(chrome_options=options)
                break
            except:
                time.sleep(1)
        driver.implicitly_wait(300)
        driver.set_page_load_timeout(300)

        driver.get('https://www.copart.com/todaysAuction/')

        auction_live_now = driver.find_element_by_xpath('//table[@id="auctionLiveNow-datatable"]')
        auction_later_today = driver.find_element_by_xpath('//table[@id="auctionLaterToday-datatable"]')
        no_auction = 'There are no auctions available at this time.'
        if auction_live_now.text.__contains__(no_auction) and auction_later_today.text.__contains__(no_auction):
            print(no_auction)
            return

        auction_urls = auction_live_now.find_elements_by_xpath('./tbody/tr/td/ul/li[1]/a')
        auction_urls = [a.get_attribute('href') for a in auction_urls]

        driver.close()
        driver.quit()

        params = []
        for url in auction_urls:
            param = url.split('=')[-1]
            num = '%03d' % int(param.split('-')[0])
            params.append(num + param.split('-')[1])

        for param in params:
            if param in live_auctions:
                continue
            get_copart_auction(param + '-' + str(random.randint(204, 206)))
            print('new auction -', param)
        live_auctions = params
        print(len(params))
    except Exception as e:
        print(e)


if __name__ == '__main__':
    # scrap_live_auctions()

    # get average count of VehicleMakes
    data = [
        [755, 0],
        [637, 12],
        [702, 0],
        [1441, 1],
        [1423, 0],
        [521, 1],
        [1200, 0],
        [539, 0],
        [78, 0],
        [503, 0],
        [197, 1],
        [1228, 0],
        [411, 0],
        [335, 0],
        [1022, 0],
        [731, 0],
        [1043, 0],
        [1130, 0],
        [467, 0],
        [1145, 8],
        [1417, 0],
        [1095, 1],
        [5, 38],
        [1385, 0],
        [1344, 0],
        [955, 1],
        [1438, 20],
        [465, 0],
        [262, 6],
        [905, 2],
        [1140, 0],
        [1329, 0],
        [876, 0],
        [170, 0],
        [240, 0],
        [1033, 3],
        [666, 2],
        [959, 7],
        [766, 0],
        [1256, 0],
        [95, 24],
        [271, 0],
        [1100, 17],
        [1284, 2],
        [886, 0],
        [151, 1],
        [477, 65],
        [1101, 0],
        [1245, 0],
        [10, 7],
        [540, 0],
        [1185, 15],
        [1425, 0],
        [1407, 1],
        [532, 0],
        [1376, 0],
        [656, 0],
        [37, 0],
        [147, 26],
        [683, 0],
        [21, 1],
        [564, 0],
        [904, 965],
        [150, 397],
        [813, 4],
        [144, 29],
        [1051, 0],
        [716, 238],
        [622, 8],
        [1264, 15],
        [1357, 0],
        [652, 2],
        [650, 0],
        [1172, 16],
        [190, 8],
        [1386, 15],
        [1189, 0],
        [877, 220],
        [752, 1],
        [1223, 0],
        [478, 20],
        [1285, 30],
        [1135, 297],
        [699, 0],
        [103, 0],
        [161, 0],
        [843, 0],
        [1244, 0],
        [863, 0],
        [282, 0],
        [447, 0],
        [897, 0],
        [70, 0],
        [587, 0],
        [1103, 0],
        [355, 0],
        [425, 0],
        [456, 0],
        [496, 4],
        [1291, 0],
        [167, 0],
        [47, 0],
        [225, 1],
        [1065, 0],
        [111, 0],
        [444, 0],
        [1214, 0],
        [1208, 0],
        [209, 1],
        [1277, 0],
        [40, 2],
        [1358, 0],
        [867, 0],
        [289, 0],
        [1352, 0],
        [856, 0],
        [1017, 0],
        [239, 0],
        [760, 0],
        [535, 0],
        [687, 0],
        [819, 0],
        [1267, 0],
        [110, 4],
        [446, 0],
        [753, 0],
        [1342, 0],
        [154, 0],
        [1212, 0],
        [330, 6],
        [512, 6],
        [1414, 1],
        [205, 1],
        [1364, 1],
        [489, 1],
        [454, 0],
        [1401, 0],
        [668, 0],
        [1396, 1],
        [1429, 0],
        [434, 1],
        [57, 2],
        [1314, 0],
        [405, 0],
        [613, 0],
        [253, 0],
        [541, 0],
        [667, 1],
        [853, 0],
        [946, 0],
        [895, 0],
        [767, 1],
        [983, 0],
        [981, 0],
        [548, 0],
        [528, 0],
        [1233, 0],
        [617, 0],
        [619, 0],
        [265, 0],
        [48, 0],
        [277, 0],
        [142, 0],
        [628, 0],
        [159, 5],
        [77, 1],
        [1206, 0],
        [272, 1],
        [1363, 0],
        [1064, 3],
        [724, 0],
        [163, 0],
        [71, 0],
        [1118, 1],
        [241, 0],
        [823, 2],
        [664, 0],
        [337, 0],
        [590, 0],
        [42, 0],
        [1346, 0],
        [1222, 0],
        [1241, 0],
        [490, 0],
        [952, 0],
        [958, 0],
        [719, 1],
        [1395, 1],
        [715, 0],
        [1155, 0],
        [1167, 4],
        [1081, 3],
        [219, 0],
        [1055, 0],
        [1237, 0],
        [934, 11],
        [544, 1],
        [560, 0],
        [257, 2],
        [1416, 0],
        [1371, 1],
        [1116, 0],
        [441, 0],
        [785, 0],
        [525, 2],
        [1205, 1],
        [834, 0],
        [866, 0],
        [54, 2],
        [1251, 0],
        [1263, 0],
        [473, 0],
        [768, 0],
        [1160, 1],
        [1166, 0],
        [1030, 0],
        [74, 0],
        [922, 0],
        [1365, 3],
        [485, 0],
        [1179, 0],
        [30, 1],
        [244, 1],
        [321, 12],
        [203, 18],
        [763, 1],
        [1045, 1],
        [938, 0],
        [680, 5],
        [986, 0],
        [601, 0],
        [645, 1],
        [950, 0],
        [125, 0],
        [19, 0],
        [179, 0],
        [1362, 0],
        [1443, 0],
        [1063, 0],
        [1310, 0],
        [609, 0],
        [848, 0],
        [551, 0],
        [896, 0],
        [844, 0],
        [679, 0],
        [401, 0],
        [406, 0],
        [324, 0],
        [898, 0],
        [960, 0],
        [746, 0],
        [618, 1],
        [607, 0],
        [855, 0],
        [888, 0],
        [708, 1],
        [847, 7],
        [4, 0],
        [1162, 0],
        [1320, 2],
        [1331, 0],
        [1392, 2],
        [269, 2],
        [296, 0],
        [994, 0],
        [334, 0],
        [388, 0],
        [903, 0],
        [729, 0],
        [1322, 1],
        [818, 1],
        [726, 0],
        [685, 1],
        [1003, 5],
        [1403, 1],
        [178, 15],
        [536, 0],
        [1380, 1],
        [395, 5],
        [81, 47],
        [788, 0],
        [189, 0],
        [735, 24],
        [1243, 0],
        [115, 0],
        [836, 0],
        [1393, 0],
        [469, 0],
        [475, 0],
        [224, 0],
        [597, 0],
        [1106, 3],
        [378, 0],
        [792, 0],
        [563, 0],
        [804, 0],
        [1279, 0],
        [584, 0],
        [227, 0],
        [1127, 0],
        [52, 0],
        [281, 199],
        [828, 0],
        [268, 0],
        [1442, 0],
        [614, 0],
        [508, 0],
        [65, 0],
        [449, 0],
        [134, 0],
        [158, 0],
        [1125, 0],
        [561, 0],
        [344, 51],
        [573, 0],
        [691, 0],
        [413, 0],
        [1238, 0],
        [907, 0],
        [507, 0],
        [559, 0],
        [1247, 0],
        [97, 0],
        [1170, 414],
        [264, 1],
        [1297, 0],
        [493, 0],
        [182, 0],
        [194, 0],
        [831, 106],
        [1025, 0],
        [916, 0],
        [1246, 0],
        [399, 0],
        [973, 0],
        [8, 13],
        [773, 0],
        [509, 0],
        [351, 0],
        [654, 0],
        [1420, 0],
        [392, 0],
        [502, 51],
        [13, 32],
        [709, 0],
        [704, 0],
        [377, 0],
        [621, 0],
        [325, 2],
        [228, 0],
        [635, 0],
        [273, 0],
        [595, 1],
        [1309, 0],
        [1323, 0],
        [995, 0],
        [323, 1],
        [948, 1],
        [366, 11],
        [514, 1],
        [782, 0],
        [39, 1],
        [992, 0],
        [682, 0],
        [402, 22],
        [1253, 2],
        [437, 0],
        [135, 0],
        [890, 0],
        [1221, 1],
        [319, 0],
        [899, 0],
        [875, 2],
        [984, 0],
        [415, 0],
        [1373, 0],
        [1341, 0],
        [175, 0],
        [213, 0],
        [606, 0],
        [1305, 0],
        [1128, 0],
        [461, 0],
        [697, 0],
        [372, 0],
        [883, 0],
        [211, 4],
        [9, 0],
        [204, 0],
        [1224, 0],
        [885, 0],
        [1336, 0],
        [1028, 0],
        [427, 0],
        [931, 0],
        [226, 0],
        [450, 1],
        [1201, 0],
        [1338, 0],
        [815, 0],
        [570, 0],
        [430, 0],
        [304, 0],
        [710, 0],
        [928, 1],
        [36, 0],
        [119, 0],
        [1163, 5],
        [939, 2],
        [1274, 0],
        [439, 1],
        [989, 0],
        [472, 0],
        [576, 0],
        [206, 2],
        [812, 1],
        [924, 0],
        [1079, 0],
        [674, 0],
        [294, 0],
        [681, 1],
        [374, 0],
        [212, 0],
        [68, 17],
        [913, 0],
        [1138, 0],
        [686, 0],
        [26, 0],
        [910, 0],
        [974, 1],
        [634, 0],
        [222, 0],
        [148, 8],
        [466, 0],
        [328, 0],
        [951, 1],
        [419, 0],
        [646, 0],
        [166, 1],
        [94, 0],
        [384, 0],
        [463, 2],
        [604, 0],
        [602, 0],
        [1240, 3],
        [165, 0],
        [117, 0],
        [1220, 0],
        [32, 2],
        [109, 1],
        [1360, 1],
        [757, 4],
        [1053, 0],
        [555, 0],
        [66, 0],
        [798, 1],
        [311, 0],
        [599, 0],
        [517, 26],
        [1187, 16],
        [690, 4],
        [369, 0],
        [513, 0],
        [246, 0],
        [923, 1],
        [1235, 0],
        [192, 1],
        [101, 0],
        [173, 9],
        [460, 0],
        [1112, 0],
        [1084, 1],
        [290, 0],
        [1111, 0],
        [1437, 0],
        [814, 1],
        [647, 6],
        [122, 0],
        [1275, 1],
        [1129, 0],
        [358, 0],
        [1427, 0],
        [236, 0],
        [1004, 1],
        [1075, 0],
        [1424, 0],
        [64, 0],
        [1177, 0],
        [549, 0],
        [1083, 0],
        [365, 9],
        [534, 0],
        [336, 1],
        [1404, 0],
        [1387, 0],
        [593, 0],
        [661, 0],
        [1068, 0],
        [1265, 0],
        [1390, 0],
        [1148, 54],
        [660, 38],
        [545, 0],
        [1334, 11],
        [857, 0],
        [160, 0],
        [933, 0],
        [440, 1],
        [354, 0],
        [644, 3],
        [1113, 0],
        [1356, 0],
        [1010, 0],
        [594, 1],
        [248, 0],
        [157, 0],
        [689, 0],
        [1188, 0],
        [975, 0],
        [1164, 2],
        [91, 2],
        [738, 1],
        [438, 26],
        [474, 1],
        [770, 0],
        [1379, 0],
        [1271, 2],
        [67, 1],
        [1061, 1],
        [1215, 114],
        [610, 1],
        [642, 0],
        [1370, 0],
        [121, 29],
        [29, 0],
        [774, 5],
        [348, 0],
        [50, 1],
        [1066, 0],
        [629, 8],
        [448, 0],
        [742, 0],
        [740, 0],
        [921, 0],
        [728, 0],
        [1199, 0],
        [1090, 0],
        [902, 0],
        [705, 0],
        [185, 0],
        [181, 0],
        [723, 0],
        [1294, 0],
        [623, 0],
        [124, 0],
        [869, 0],
        [1143, 0],
        [1398, 0],
        [1351, 0],
        [639, 0],
        [349, 0],
        [22, 1],
        [1418, 0],
        [186, 0],
        [673, 0],
        [139, 0],
        [663, 0],
        [177, 0],
        [1060, 0],
        [572, 0],
        [749, 0],
        [247, 0],
        [982, 0],
        [451, 0],
        [1288, 0],
        [737, 3],
        [775, 0],
        [1319, 2],
        [972, 0],
        [1007, 0],
        [484, 0],
        [1123, 0],
        [426, 0],
        [196, 0],
        [1198, 0],
        [953, 0],
        [143, 0],
        [455, 0],
        [696, 0],
        [811, 1],
        [805, 0],
        [947, 0],
        [1411, 0],
        [578, 0],
        [1415, 0],
        [320, 0],
        [1339, 0],
        [547, 0],
        [713, 0],
        [1002, 0],
        [1229, 0],
        [1062, 0],
        [852, 1],
        [927, 0],
        [568, 0],
        [367, 0],
        [732, 0],
        [850, 0],
        [892, 0],
        [764, 0],
        [93, 0],
        [964, 0],
        [113, 1],
        [1302, 0],
        [633, 0],
        [1399, 0],
        [800, 0],
        [198, 0],
        [1270, 0],
        [786, 0],
        [751, 0],
        [1115, 0],
        [260, 0],
        [11, 0],
        [116, 0],
        [1078, 0],
        [35, 0],
        [557, 0],
        [422, 0],
        [795, 0],
        [783, 5],
        [55, 0],
        [387, 0],
        [501, 0],
        [416, 0],
        [1070, 0],
        [865, 0],
        [1306, 0],
        [129, 4],
        [41, 1],
        [84, 0],
        [1382, 0],
        [1286, 0],
        [146, 0],
        [977, 0],
        [1108, 0],
        [1249, 0],
        [653, 0],
        [999, 0],
        [1027, 0],
        [1107, 28],
        [1008, 0],
        [1176, 1],
        [1268, 0],
        [1012, 0],
        [1435, 0],
        [1330, 0],
        [123, 0],
        [17, 0],
        [1354, 0],
        [329, 0],
        [884, 0],
        [961, 0],
        [882, 0],
        [1383, 2],
        [616, 5],
        [99, 3],
        [1318, 0],
        [360, 0],
        [677, 0],
        [640, 0],
        [1298, 0],
        [263, 0],
        [1023, 0],
        [784, 0],
        [780, 0],
        [978, 0],
        [957, 0],
        [1335, 0],
        [1355, 0],
        [963, 0],
        [711, 0],
        [1348, 0],
        [1397, 0],
        [313, 9],
        [1152, 2],
        [291, 1],
        [1136, 0],
        [996, 1],
        [1422, 0],
        [56, 1],
        [789, 0],
        [397, 0],
        [15, 2],
        [270, 0],
        [891, 0],
        [1076, 0],
        [283, 0],
        [1321, 0],
        [1436, 0],
        [459, 0],
        [695, 0],
        [672, 0],
        [962, 0],
        [292, 3],
        [1158, 0],
        [396, 0],
        [1006, 1],
        [829, 1],
        [383, 1],
        [638, 0],
        [375, 0],
        [1119, 1],
        [1197, 4],
        [33, 3],
        [1250, 0],
        [1193, 0],
        [1255, 0],
        [442, 0],
        [1434, 0],
        [1157, 4],
        [1340, 2],
        [837, 4],
        [1219, 1],
        [112, 0],
        [433, 5],
        [1273, 1],
        [60, 0],
        [807, 1],
        [487, 0],
        [1406, 4],
        [404, 0],
        [183, 1],
        [1071, 2],
        [357, 0],
        [1092, 0],
        [346, 2],
        [620, 3],
        [28, 1],
        [445, 1],
        [873, 1],
        [1121, 0],
        [49, 1],
        [827, 0],
        [845, 0],
        [1259, 0],
        [1050, 0],
        [495, 0],
        [1039, 0],
        [85, 0],
        [1021, 7],
        [1216, 2],
        [840, 0],
        [1069, 0],
        [409, 8],
        [491, 2],
        [382, 0],
        [285, 0],
        [287, 0],
        [215, 0],
        [1026, 0],
        [62, 0],
        [630, 0],
        [120, 0],
        [86, 0],
        [717, 0],
        [327, 0],
        [483, 0],
        [361, 2],
        [1096, 0],
        [945, 0],
        [1262, 0],
        [889, 1],
        [1252, 0],
        [1192, 0],
        [1072, 0],
        [242, 0],
        [1317, 0],
        [799, 0],
        [153, 0],
        [1227, 0],
        [174, 0],
        [1032, 0],
        [747, 1],
        [998, 0],
        [936, 0],
        [1098, 0],
        [44, 0],
        [1230, 0],
        [458, 0],
        [295, 0],
        [1391, 0],
        [308, 0],
        [1082, 1],
        [817, 0],
        [1211, 0],
        [138, 1],
        [98, 0],
        [145, 0],
        [1168, 1],
        [1186, 0],
        [1080, 0],
        [522, 0],
        [881, 0],
        [2, 0],
        [188, 0],
        [1183, 5],
        [821, 0],
        [575, 0],
        [1041, 0],
        [431, 1],
        [59, 0],
        [1058, 0],
        [1014, 0],
        [518, 0],
        [1231, 0],
        [108, 14],
        [258, 0],
        [581, 0],
        [703, 2],
        [249, 0],
        [1000, 0],
        [1137, 0],
        [1226, 0],
        [256, 0],
        [632, 17],
        [893, 4],
        [254, 0],
        [310, 0],
        [1225, 0],
        [288, 0],
        [1388, 0],
        [305, 0],
        [314, 1],
        [515, 0],
        [250, 0],
        [462, 0],
        [567, 0],
        [1048, 0],
        [1290, 0],
        [940, 0],
        [201, 0],
        [1018, 1],
        [698, 0],
        [1169, 0],
        [207, 0],
        [841, 0],
        [46, 0],
        [133, 0],
        [1059, 0],
        [1005, 0],
        [214, 0],
        [727, 1],
        [1283, 0],
        [671, 1],
        [971, 1],
        [1088, 5],
        [1154, 0],
        [1301, 3],
        [83, 1],
        [217, 0],
        [586, 0],
        [1174, 0],
        [1377, 0],
        [127, 0],
        [353, 0],
        [243, 1],
        [317, 1],
        [1282, 0],
        [605, 0],
        [251, 0],
        [421, 0],
        [655, 0],
        [488, 1],
        [1034, 0],
        [794, 0],
        [1444, 0],
        [925, 0],
        [566, 0],
        [373, 0],
        [643, 0],
        [1287, 0],
        [641, 0],
        [1073, 0],
        [1293, 0],
        [569, 0],
        [806, 2],
        [1308, 0],
        [414, 0],
        [386, 1],
        [1236, 0],
        [118, 0],
        [1260, 0],
        [591, 0],
        [543, 0],
        [1089, 0],
        [300, 0],
        [980, 0],
        [520, 0],
        [966, 1],
        [1349, 6],
        [631, 3],
        [778, 0],
        [988, 0],
        [168, 0],
        [579, 3],
        [106, 0],
        [1313, 0],
        [833, 0],
        [1280, 0],
        [793, 0],
        [849, 0],
        [781, 0],
        [887, 6],
        [470, 1],
        [771, 16],
        [1316, 0],
        [750, 0],
        [1102, 0],
        [114, 1],
        [1269, 3],
        [90, 0],
        [1133, 0],
        [128, 0],
        [100, 0],
        [362, 1],
        [352, 0],
        [956, 0],
        [720, 0],
        [137, 0],
        [589, 0],
        [987, 3],
        [908, 0],
        [398, 9],
        [1093, 1],
        [880, 0],
        [307, 0],
        [259, 2],
        [550, 0],
        [739, 0],
        [1105, 0],
        [1248, 0],
        [524, 2],
        [1126, 1],
        [1440, 2],
        [919, 0],
        [1210, 3],
        [906, 0],
        [1374, 3],
        [105, 0],
        [312, 0],
        [802, 2],
        [429, 0],
        [970, 0],
        [1171, 1],
        [1204, 0],
        [649, 0],
        [935, 21],
        [1151, 25],
        [901, 0],
        [1031, 0],
        [588, 0],
        [810, 0],
        [1132, 0],
        [1109, 0],
        [1428, 2],
        [370, 1],
        [558, 1],
        [911, 0],
        [1013, 0],
        [909, 0],
        [301, 0],
        [533, 0],
        [1299, 2],
        [612, 1],
        [530, 0],
        [741, 0],
        [309, 0],
        [230, 0],
        [284, 0],
        [1029, 6],
        [237, 2],
        [1057, 0],
        [596, 5],
        [152, 1],
        [1091, 0],
        [826, 0],
        [216, 1],
        [14, 0],
        [298, 0],
        [53, 1],
        [556, 3],
        [1312, 0],
        [1042, 0],
        [915, 0],
        [675, 7],
        [261, 1],
        [1366, 0],
        [651, 0],
        [1178, 3],
        [435, 0],
        [193, 0],
        [280, 0],
        [255, 1],
        [1234, 0],
        [210, 0],
        [1122, 3],
        [777, 1],
        [497, 1],
        [23, 0],
        [333, 0],
        [1203, 1],
        [1394, 1],
        [34, 19],
        [585, 0],
        [706, 3],
        [1409, 0],
        [1038, 0],
        [494, 0],
        [347, 0],
        [808, 0],
        [779, 1],
        [223, 2],
        [202, 7],
        [797, 0],
        [164, 3],
        [61, 2],
        [221, 0],
        [340, 1],
        [356, 0],
        [1209, 5],
        [479, 0],
        [894, 8],
        [481, 3],
        [943, 0],
        [648, 0],
        [870, 2],
        [136, 3],
        [1381, 0],
        [608, 0],
        [658, 2],
        [274, 0],
        [457, 0],
        [941, 4],
        [499, 0],
        [1181, 0],
        [420, 0],
        [1359, 1],
        [130, 0],
        [191, 0],
        [1056, 0],
        [1120, 0],
        [464, 1],
        [45, 0],
        [700, 0],
        [31, 0],
        [87, 0],
        [997, 10],
        [554, 0],
        [187, 2],
        [734, 0],
        [985, 3],
        [403, 0],
        [546, 0],
        [1300, 0],
        [758, 0],
        [665, 1],
        [238, 0],
        [385, 0],
        [1337, 12],
        [1402, 0],
        [565, 0],
        [835, 2],
        [505, 8],
        [63, 1],
        [266, 3],
        [220, 13],
        [626, 0],
        [993, 0],
        [364, 0],
        [27, 0],
        [199, 0],
        [1190, 0],
        [180, 2],
        [762, 0],
        [417, 0],
        [967, 0],
        [519, 0],
        [24, 9],
        [688, 2],
        [1272, 7],
        [51, 38],
        [748, 0],
        [1369, 29],
        [718, 8],
        [476, 3],
        [276, 25],
        [1295, 17],
        [692, 2],
        [603, 6],
        [418, 0],
        [1175, 36],
        [1311, 1],
        [155, 0],
        [432, 0],
        [1019, 33],
        [1325, 65],
        [279, 112],
        [942, 0],
        [803, 0],
        [492, 4],
        [379, 4],
        [1015, 0],
        [1161, 6],
        [107, 1],
        [832, 0],
        [580, 2],
        [949, 24],
        [345, 7],
        [302, 0],
        [1345, 0],
        [393, 11],
        [1278, 4],
        [80, 0],
        [389, 43],
        [482, 36],
        [172, 93],
        [1372, 2],
        [1296, 5],
        [104, 2],
        [824, 10],
        [394, 3],
        [529, 6],
        [1421, 0],
        [341, 0],
        [218, 4],
        [745, 0],
        [527, 0],
        [1333, 0],
        [542, 3],
        [761, 0],
        [1087, 0],
        [363, 0],
        [552, 0],
        [500, 2],
        [391, 2],
        [339, 0],
        [851, 4],
        [156, 6],
        [75, 12],
        [1085, 107],
        [583, 5],
        [1114, 4],
        [452, 10],
        [410, 17],
        [235, 1],
        [1134, 7],
        [1328, 10],
        [842, 3],
        [326, 19],
        [1094, 0],
        [1194, 5],
        [1196, 0],
        [331, 3],
        [670, 12],
        [1195, 6],
        [480, 10],
        [820, 7],
        [769, 27],
        [730, 3],
        [267, 5],
        [1239, 2],
        [1044, 5],
        [707, 0],
        [126, 9],
        [912, 1],
        [184, 9],
        [471, 2],
        [926, 0],
        [1142, 0],
        [1217, 2],
        [468, 2],
        [1040, 0],
        [531, 0],
        [516, 2],
        [233, 1],
        [1067, 3],
        [58, 0],
        [1315, 0],
        [526, 12],
        [868, 2],
        [1052, 18],
        [1353, 5],
        [1047, 6],
        [523, 0],
        [1400, 0],
        [684, 2],
        [809, 0],
        [102, 10],
        [43, 5],
        [1180, 27],
        [1110, 0],
        [412, 0],
        [1218, 7],
        [504, 0],
        [303, 0],
        [1367, 2],
        [759, 1],
        [636, 0],
        [611, 0],
        [92, 2],
        [754, 0],
        [1384, 0],
        [562, 0],
        [1099, 8],
        [756, 0],
        [293, 0],
        [1439, 0],
        [278, 0],
        [350, 0],
        [659, 1],
        [1156, 0],
        [69, 0],
        [510, 0],
        [954, 19],
        [1182, 0],
        [917, 0],
        [1389, 0],
        [232, 0],
        [6, 0],
        [1024, 2],
        [162, 0],
        [286, 0],
        [600, 0],
        [1016, 0],
        [1375, 0],
        [299, 3],
        [306, 0],
        [76, 0],
        [625, 0],
        [1408, 0],
        [72, 1],
        [854, 0],
        [1, 0],
        [676, 0],
        [1124, 0],
        [615, 34],
        [1281, 2],
        [1173, 0],
        [968, 0],
        [1430, 0],
        [380, 0],
        [275, 21],
        [381, 0],
        [1289, 0],
        [1150, 0],
        [1413, 0],
        [879, 11],
        [900, 0],
        [408, 0],
        [872, 0],
        [574, 0],
        [669, 0],
        [229, 0],
        [423, 0],
        [486, 143],
        [1191, 4],
        [368, 0],
        [342, 0],
        [1350, 0],
        [598, 0],
        [1410, 80],
        [1009, 0],
        [338, 0],
        [1405, 0],
        [88, 0],
        [1431, 40],
        [796, 0],
        [132, 0],
        [736, 0],
        [871, 0],
        [878, 0],
        [234, 0],
        [1184, 0],
        [1011, 4],
        [1144, 0],
        [733, 3],
        [1368, 0],
        [914, 0],
        [838, 0],
        [1147, 0],
        [920, 1],
        [990, 0],
        [1276, 1],
        [1213, 1],
        [701, 1],
        [322, 0],
        [861, 78],
        [772, 0],
        [858, 3],
        [1361, 2],
        [790, 0],
        [657, 0],
        [1242, 0],
        [38, 0],
        [721, 0],
        [874, 10],
        [252, 0],
        [537, 0],
        [712, 0],
        [694, 0],
        [538, 5],
        [1303, 0],
        [662, 2],
        [1097, 0],
        [376, 0],
        [400, 1],
        [82, 0],
        [1343, 0],
        [1141, 0],
        [787, 0],
        [20, 2],
        [1266, 0],
        [937, 0],
        [18, 93],
        [944, 1],
        [1077, 0],
        [714, 0],
        [1433, 7],
        [16, 0],
        [1327, 3],
        [822, 0],
        [1207, 0],
        [1165, 0],
        [1131, 1226],
        [624, 20],
        [1326, 2],
        [140, 2],
        [316, 0],
        [343, 4],
        [511, 1054],
        [979, 4],
        [864, 0],
        [498, 23],
        [208, 0],
        [592, 0],
        [1086, 2552],
        [7, 0],
        [846, 1759],
        [1261, 1320],
        [73, 0],
        [1378, 13455],
        [359, 2756],
        [1419, 0],
        [1432, 1],
        [929, 3],
        [1037, 0],
        [969, 6],
        [991, 0],
        [1117, 0],
        [371, 5372],
        [1307, 3],
        [1304, 4],
        [678, 0],
        [89, 2],
        [12, 8],
        [1074, 138],
        [1035, 14356],
        [791, 0],
        [231, 23],
        [965, 0],
        [801, 2408],
        [725, 60],
        [825, 9275],
        [1104, 61],
        [200, 4769],
        [765, 1114],
        [839, 15],
        [25, 90],
        [407, 244],
        [627, 3354],
        [1149, 32],
        [830, 3157],
        [1046, 0],
        [332, 4],
        [1049, 0],
        [1254, 308],
        [743, 2058],
        [506, 825],
        [1020, 3],
        [141, 30],
        [424, 0],
        [1159, 2180],
        [297, 4],
        [3, 2306],
        [318, 783],
        [245, 0],
        [862, 8],
        [816, 1],
        [776, 380],
        [195, 1061],
        [1324, 0],
        [79, 1],
        [315, 9216],
        [149, 1],
        [918, 0],
        [1153, 238],
        [1001, 0],
        [428, 0],
        [1258, 4],
        [1332, 0],
        [390, 2],
        [582, 0],
        [1146, 70],
        [860, 1447],
        [1426, 213],
        [1202, 523],
        [859, 0],
        [1347, 1],
        [436, 1],
        [96, 11],
        [443, 0],
        [1257, 159],
        [932, 0],
        [1292, 863],
        [131, 56],
        [176, 28],
        [1054, 0],
        [930, 3],
        [571, 2073],
        [453, 351],
        [577, 56],
        [553, 15411],
        [1232, 4],
        [169, 2594],
        [693, 760],
        [1036, 0],
        [1139, 1],
        [722, 17],
        [1412, 0],
    ]
    total = sum([a[1] for a in data])
    div_count = 5
    average = ((total + div_count - 1) // div_count)
    print(total)
    print(average)

    data = sorted(data, key=lambda x: x[1], reverse=True)

    result = [[] for i in range(div_count)]
    amount = [0 for i in range(div_count)]
    for _, item in enumerate(data):
        for i in range(0, div_count):
            if amount[i] + item[1] <= average:
                amount[i] += item[1]
                result[i].append(item[0])
                break
        result = result[::-1]

    for i in range(div_count):
        print(amount[i], result[i])
